import{_ as S,r as _,u as B,o as N,a as j,b as a,c as l,d as k,e as t,w as L,t as i,f as M,F as A,g as F,h as V,i as R,j as r,k as b,l as x,m as $,n as z,v as T,p as H,q as J}from"./index-cefc021b.js";import{_ as O}from"./breadcrumb-7f4f9afa.js";import{_ as Y}from"./Nave-cdaf7201.js";/* empty css                                             */const p=m=>(H("data-v-8201cf1c"),m=m(),J(),m),G={class:"banner flex items-center h-[35vh] lg:h-[55vh] relative"},K=p(()=>t("div",{class:"absolute bg-black opacity-40 w-full h-full z-50"},null,-1)),P=p(()=>t("img",{class:"w-full absolute h-full",src:O},null,-1)),Q={class:"z-50 text-white w-full m-auto w-[80%]"},W={class:"flex py-12"},X={class:"text-2xl font-semibold"},Z=p(()=>t("svg",{class:"my-auto mx-[1%] ltr:rotate-180",width:"18",height:"13",viewBox:"0 0 18 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M0.999878 6.49976L16.9999 6.49976",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M5.99972 11.5C5.99972 11.5 0.999767 7.81756 0.999756 6.49996C0.999744 5.18237 5.99976 1.5 5.99976 1.5",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ee={class:"text-2xl font-semibold"},te=p(()=>t("svg",{class:"my-auto mx-[1%] ltr:rotate-180",width:"18",height:"13",viewBox:"0 0 18 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M0.999878 6.49976L16.9999 6.49976",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M5.99972 11.5C5.99972 11.5 0.999767 7.81756 0.999756 6.49996C0.999744 5.18237 5.99976 1.5 5.99976 1.5",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),oe={class:"text-2xl font-semibold"},ae={class:"bg-white py-[3%]"},se={class:"m-auto shadow-lg animate__animated animate__backInRight animate__delay-.8s max-w-[1280px] p-[3%]"},le={class:"text-3xl font-bold text-center"},ne=["onSubmit"],de={key:0},ie={class:"flex"},ce={class:"py-2 font-bold text-[#303843]"},ue={key:0,class:"my-auto text-[#AA1E22] px-1"},re={key:1},_e={class:"flex"},pe={class:"py-2 font-bold text-[#303843]"},me={key:0,class:"my-auto text-[#AA1E22] px-1"},he={key:2},ve={class:"flex"},fe={class:"py-2 font-bold text-[#303843]"},ge={key:0,class:"my-auto text-[#AA1E22] px-1"},be={key:3},xe={class:"flex"},ye={class:"py-2 font-bold text-[#303843]"},we={key:0,class:"my-auto text-[#AA1E22] px-1"},ke={key:4,class:"upload-cv"},Ve={for:"cv-upload",class:"upload-container"},je=p(()=>t("i",{class:"fas fa-upload text-3xl text-[#AA1E22]"},null,-1)),Ae={key:0},Ue={key:1,class:"text-[#28a745] my-2"},qe=["onUpdate:modelValue"],Ce={setup(m){const h=_(""),U=new Date,y=_([]),w=_([]),n=_({}),v=_({}),f=_(""),g=B(),q=()=>{V.post("api/get_job_apply_form_details",{lang:localStorage.getItem("appLang"),form_id:g.currentRoute.value.params.id}).then(o=>{y.value=o.data.result.data.form_fields,o.data.result.data.form_fields.forEach(s=>{const c=s.name,d=s.field_type,e=s.selection_values;c&&!v.value[c]&&d=="selection"&&(v.value[c]=e)})}),console.log(v.value)},C=o=>{const s=o.target.files[0];n.value.cv=o.target.files[0],s&&(f.value=s.name,console.log("Uploaded file:",s),loading.value=!1)},I=()=>{w.value=[],Object.entries(n.value).forEach(([s,c])=>{const d=y.value.find(e=>e.name==s);d!=null&&d.id&&w.value.push({name:s,value:c,id:d.id})});const o=new FormData;o.append("fields",JSON.stringify(w.value)),o.append("form_id",g.currentRoute.value.params.id),o.append("job_id",g.currentRoute.value.params.job_id),o.append("lang",localStorage.getItem("appLang")),o.append("cv",n.value.cv),V.post("api/job_apply/form_data",o).then(s=>{var c,d,e;((d=(c=s.data)==null?void 0:c.result)==null?void 0:d.message)=="success"?toast.add({severity:"success",summary:"شكرا",detail:" لقد تلقينا رسالتك، شكرا لتواصلك معنا",life:3e3}):alert((e=s.data)==null?void 0:e.result)}).catch(s=>{alert(s)})},D=()=>{V.post("api/get_posted_job_details",{lang:localStorage.getItem("appLang"),job_id:g.currentRoute.value.params.job_id}).then(o=>{h.value=o.data.result.data})};return N(()=>{q(),D()}),(o,s)=>{const c=j("H1"),d=j("Button");return a(),l(A,null,[k(Y),t("div",G,[K,P,t("div",Q,[k(c,{class:"font-bold text-5xl text-white z-50"},{default:L(()=>[R(i(h.value.name),1)]),_:1}),t("div",W,[t("p",X,i(o.$t("home")),1),Z,t("p",ee,i(o.$t("jobs")),1),te,t("p",oe,i(h.value.name),1)])])]),t("div",ae,[t("div",se,[t("p",le,i(o.$t("Apply_for_job"))+" "+i(h.value.name),1),t("form",{onSubmit:M(I,["prevent"]),class:"grid lg:grid-cols-2 gap-4 py-[2%]"},[(a(!0),l(A,null,F(y.value,(e,E)=>(a(),l("div",{key:E},[e.field_type==="text"?(a(),l("div",de,[t("div",ie,[t("p",ce,i(e.label_on_form),1),e.is_required_field?(a(),l("span",ue,"*")):r("",!0)]),(a(),b(x("InputText"),{required:e.is_required_field,class:"bg-[#f7f5f5] w-full",modelValue:n.value[e.name],"onUpdate:modelValue":u=>n.value[e.name]=u},null,8,["required","modelValue","onUpdate:modelValue"]))])):e.field_type==="date"?(a(),l("div",re,[t("div",_e,[t("p",pe,i(e.label_on_form),1),e.is_required_field?(a(),l("span",me,"*")):r("",!0)]),(a(),b(x("Calendar"),{showIcon:"",class:"bg-[#f7f5f5] w-full",modelValue:n.value[e.name],"onUpdate:modelValue":u=>n.value[e.name]=u,minDate:$(U)},null,8,["modelValue","onUpdate:modelValue","minDate"]))])):e.field_type==="number"?(a(),l("div",he,[t("div",ve,[t("p",fe,i(e.label_on_form),1),e.is_required_field?(a(),l("span",ge,"*")):r("",!0)]),(a(),b(x("InputNumber"),{required:e.is_required_field,class:"bg-[#f7f5f5] w-full",modelValue:n.value[e.name],"onUpdate:modelValue":u=>n.value[e.name]=u},null,8,["required","modelValue","onUpdate:modelValue"]))])):e.field_type==="selection"?(a(),l("div",be,[t("div",xe,[t("p",ye,i(e.label_on_form),1),e.is_required_field?(a(),l("span",we,"*")):r("",!0)]),(a(),b(x("Dropdown"),{"option-value":"id",optionLabel:"name",class:"bg-[#f7f5f5] w-full",options:v.value[e.name],modelValue:n.value[e.name],"onUpdate:modelValue":u=>n.value[e.name]=u},null,8,["options","modelValue","onUpdate:modelValue"]))])):e.field_type==="file"?(a(),l("div",ke,[t("label",Ve,[je,f.value?r("",!0):(a(),l("span",Ae,"Upload Your CV")),f.value?(a(),l("p",Ue,"Uploaded: "+i(f.value),1)):r("",!0),z(t("input",{required:"",class:"hidden","onUpdate:modelValue":u=>n.value[e.name]=u},null,8,qe),[[T,n.value[e.name]]]),t("input",{required:"",id:"cv-upload",type:"file",onChange:C,class:"upload-input hidden",accept:".pdf,.doc,.docx"},null,32)])])):r("",!0)]))),128)),k(d,{loading:o.loading,style:{"background-color":"#AA1E22 !important"},type:"submit",label:o.$t("apply_now"),class:"w-[50%] my-auto pb-2 lg:mb-0 bg focus:ring-0 text-[#AA1E22]"},null,8,["loading","label"])],40,ne)])])],64)}}},Be=S(Ce,[["__scopeId","data-v-8201cf1c"]]);export{Be as default};
